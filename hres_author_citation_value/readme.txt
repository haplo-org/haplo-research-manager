title: Author citations
--

Provides the @hres:author_citation@ data type, which provides customisable citation strings (eg. Bloggs, J.) with optional links to object store entries.

The default citation string for a linked storeObject is generated by checkin (in order)

1. The @hres:attribute:preferred-citation@ attribute
2. A custom rule for generating the object's citation string, from the service @"hres:author_citation:get_citation_for_object"@
3. (Default) "@LAST_NAME@, @FIRST_INITIAL@."  -- eg. "Bloggs, J."    

Links are copied into 'shadowed' attributes, so other plugins can use these and not worry about the citation attribute containing mixed ref/string data.

h2. Feature

Author and Editor citation attributes are added to types using the provided feature

h3(feature). hres:author_citation:configuration

@use@ this in the consumer's plugin.json file to enable the @P.hresAuthorCitation@ plugin feature.

h3(function). standardShadowingConfigurationForTypes(types)

This adds the default shadowed attributes to the list of types passed in. This should be sufficient for mose use cases.

Note that this does *not* add these attributes to the schema for the passed in types. 

|*Citation attribute*|*Shadowed to*|
|@hres:attribute:authors-citation@|@dc:attribute:author@|
|@hres:attribute:editors-citation@|@hres:attribute:editor@|


h3(function). shadowAttribute(citationAttr, shadowedAttr)

Add a custom 'shadowed' attribute, and specify which citation attribute should be reflected into it.

h3(function). shadowInTypes(types)

Specify a list of types to use attribute shadowing on.
